// –¢–µ—Å—Ç Supabase –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
// –í—ã–ø–æ–ª–Ω–∏—Ç–µ —ç—Ç–æ—Ç –∫–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞

console.log('üîå –¢–µ—Å—Ç–∏—Ä—É–µ–º Supabase –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏...');

// 1. –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
console.log('1. –ü—Ä–æ–≤–µ—Ä—è–µ–º –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ...');
console.log('window.location:', window.location.href);
console.log('window.origin:', window.origin);

// 2. –ü—ã—Ç–∞–µ–º—Å—è –Ω–∞–π—Ç–∏ Supabase –∫–ª–∏–µ–Ω—Ç —á–µ—Ä–µ–∑ –º–æ–¥—É–ª–∏
console.log('2. –ò—â–µ–º Supabase –∫–ª–∏–µ–Ω—Ç...');

// –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ –∏–º–ø–æ—Ä—Ç—ã –≤ –∫–æ–¥–µ
const scripts = document.querySelectorAll('script[type="module"]');
console.log('–ù–∞–π–¥–µ–Ω–æ ES –º–æ–¥—É–ª–µ–π:', scripts.length);

// 3. –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ –æ—à–∏–±–∫–∏ –∑–∞–≥—Ä—É–∑–∫–∏
console.log('3. –ü—Ä–æ–≤–µ—Ä—è–µ–º –æ—à–∏–±–∫–∏ –∑–∞–≥—Ä—É–∑–∫–∏...');
const originalError = console.error;
let supabaseErrors = [];
console.error = function(...args) {
  const message = args.join(' ');
  if (message.includes('supabase') || message.includes('Supabase')) {
    supabaseErrors.push(message);
  }
  originalError.apply(console, args);
};

// 4. –ü—ã—Ç–∞–µ–º—Å—è –Ω–∞–π—Ç–∏ —ç–ª–µ–º–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∫–æ—Ä–∑–∏–Ω—É
console.log('4. –ò—â–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã –∫–æ—Ä–∑–∏–Ω—ã...');
const cartElements = document.querySelectorAll('*');
const cartRelatedElements = Array.from(cartElements).filter(el => {
  const text = el.textContent || '';
  const className = el.className || '';
  return text.includes('–∫–æ—Ä–∑–∏–Ω–∞') || 
         text.includes('cart') || 
         className.includes('cart') ||
         className.includes('Cart');
});
console.log('–ù–∞–π–¥–µ–Ω–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å –∫–æ—Ä–∑–∏–Ω–æ–π:', cartRelatedElements.length);

// 5. –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ –∫–Ω–æ–ø–∫–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤ –∫–æ—Ä–∑–∏–Ω—É
console.log('5. –ò—â–µ–º –∫–Ω–æ–ø–∫–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è...');
const buttons = document.querySelectorAll('button');
const addButtons = Array.from(buttons).filter(btn => {
  const text = btn.textContent.toLowerCase();
  return text.includes('–∫–æ—Ä–∑–∏–Ω—É') || 
         text.includes('–¥–æ–±–∞–≤–∏—Ç—å') || 
         text.includes('–∫—É–ø–∏—Ç—å');
});
console.log('–ù–∞–π–¥–µ–Ω–æ –∫–Ω–æ–ø–æ–∫ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è:', addButtons.length);

// 6. –ü—ã—Ç–∞–µ–º—Å—è –Ω–∞–π—Ç–∏ React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
console.log('6. –ò—â–µ–º React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã...');
const reactElements = document.querySelectorAll('[data-reactroot], [data-react-helmet]');
console.log('–ù–∞–π–¥–µ–Ω–æ React —ç–ª–µ–º–µ–Ω—Ç–æ–≤:', reactElements.length);

// 7. –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ –æ—à–∏–±–∫–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏
setTimeout(() => {
  console.log('7. –ü—Ä–æ–≤–µ—Ä—è–µ–º –æ—à–∏–±–∫–∏ Supabase...');
  if (supabaseErrors.length > 0) {
    console.log('‚ùå –ù–∞–π–¥–µ–Ω—ã –æ—à–∏–±–∫–∏ Supabase:');
    supabaseErrors.forEach(error => console.log('  -', error));
  } else {
    console.log('‚úÖ –û—à–∏–±–æ–∫ Supabase –Ω–µ –Ω–∞–π–¥–µ–Ω–æ');
  }
  
  // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π console.error
  console.error = originalError;
}, 3000);

// 8. –ü—ã—Ç–∞–µ–º—Å—è –Ω–∞–π—Ç–∏ –¥–∞–Ω–Ω—ã–µ –æ —Ç–æ–≤–∞—Ä–∞—Ö
console.log('8. –ò—â–µ–º –¥–∞–Ω–Ω—ã–µ –æ —Ç–æ–≤–∞—Ä–∞—Ö...');
const dishElements = document.querySelectorAll('[class*="dish"], [class*="card"], [class*="item"]');
console.log('–ù–∞–π–¥–µ–Ω–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Ç–æ–≤–∞—Ä–æ–≤:', dishElements.length);

// 9. –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ —Ü–µ–Ω—ã
console.log('9. –ò—â–µ–º —Ü–µ–Ω—ã...');
const priceElements = document.querySelectorAll('*');
const prices = Array.from(priceElements).filter(el => {
  const text = el.textContent || '';
  return text.includes('‚ÇΩ') || text.includes('—Ä—É–±');
});
console.log('–ù–∞–π–¥–µ–Ω–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å —Ü–µ–Ω–∞–º–∏:', prices.length);

console.log('üéØ –¢–µ—Å—Ç –∑–∞–≤–µ—Ä—à–µ–Ω. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä –≤ –∫–æ—Ä–∑–∏–Ω—É!');
