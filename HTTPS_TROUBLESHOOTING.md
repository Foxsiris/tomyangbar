# üîß –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º —Å HTTPS

## üî¥ HTTPS –ø–µ—Ä–µ—á–µ—Ä–∫–Ω—É—Ç –∏ –≥–æ—Ä–∏—Ç –∫—Ä–∞—Å–Ω—ã–º

–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –±—Ä–∞—É–∑–µ—Ä –Ω–µ –¥–æ–≤–µ—Ä—è–µ—Ç SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—É. –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã –∏ —Ä–µ—à–µ–Ω–∏—è:

### 1. –°–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç (—Å–∞–º–∞—è —á–∞—Å—Ç–∞—è –ø—Ä–∏—á–∏–Ω–∞)

**–ü—Ä–∏–∑–Ω–∞–∫–∏:**
- –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –ø–æ—Å–µ—â–µ–Ω–∏–∏ –±—Ä–∞—É–∑–µ—Ä –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ
- –í –∞–¥—Ä–µ—Å–Ω–æ–π —Å—Ç—Ä–æ–∫–µ –∫—Ä–∞—Å–Ω—ã–π –ø–µ—Ä–µ—á–µ—Ä–∫–Ω—É—Ç—ã–π HTTPS
- –°–æ–æ–±—â–µ–Ω–∏–µ —Ç–∏–ø–∞ "–í–∞—à–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –Ω–µ –∑–∞—â–∏—â–µ–Ω–æ" –∏–ª–∏ "NET::ERR_CERT_AUTHORITY_INVALID"

**–†–µ—à–µ–Ω–∏–µ:**
–≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –¥–ª—è —Å–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã—Ö —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤! –ù—É–∂–Ω–æ –ø—Ä–∏–Ω—è—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –≤—Ä—É—á–Ω—É—é:

#### Chrome/Edge:
1. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫—Ä–∞—Å–Ω—ã–π –∑–∞–º–æ—á–µ–∫ –≤ –∞–¥—Ä–µ—Å–Ω–æ–π —Å—Ç—Ä–æ–∫–µ
2. –ù–∞–∂–º–∏—Ç–µ "–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ" –∏–ª–∏ "Advanced"
3. –ù–∞–∂–º–∏—Ç–µ "–ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ —Å–∞–π—Ç (–Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ)" –∏–ª–∏ "Proceed to site"

#### Firefox:
1. –ù–∞–∂–º–∏—Ç–µ "–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ" –∏–ª–∏ "Advanced"
2. –ù–∞–∂–º–∏—Ç–µ "–ü—Ä–∏–Ω—è—Ç—å —Ä–∏—Å–∫ –∏ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å" –∏–ª–∏ "Accept the Risk and Continue"

#### Safari:
1. –ù–∞–∂–º–∏—Ç–µ "–ü–æ–∫–∞–∑–∞—Ç—å –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏" –∏–ª–∏ "Show Details"
2. –ù–∞–∂–º–∏—Ç–µ "–ü–æ—Å–µ—Ç–∏—Ç—å —ç—Ç–æ—Ç –≤–µ–±-—Å–∞–π—Ç" –∏–ª–∏ "Visit this Website"

**–í–∞–∂–Ω–æ:** –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –∏—Å—á–µ–∑–Ω–µ—Ç –¥–ª—è —ç—Ç–æ–≥–æ –±—Ä–∞—É–∑–µ—Ä–∞, –Ω–æ –±—É–¥–µ—Ç –ø–æ—è–≤–ª—è—Ç—å—Å—è –≤ –¥—Ä—É–≥–∏—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö/—É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö.

### 2. –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –¥–æ–º–µ–Ω—É/IP

**–ü—Ä–∏–∑–Ω–∞–∫–∏:**
- –û—à–∏–±–∫–∞ "NET::ERR_CERT_COMMON_NAME_INVALID"
- –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –≤—ã–¥–∞–Ω –¥–ª—è –¥—Ä—É–≥–æ–≥–æ –¥–æ–º–µ–Ω–∞/IP

**–†–µ—à–µ–Ω–∏–µ:**

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker-compose down

# –£–¥–∞–ª–∏—Ç–µ —Å—Ç–∞—Ä—ã–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
rm -rf ssl/*

# –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –¥–æ–º–µ–Ω–∞/IP
./generate-self-signed-cert.sh YOUR_DOMAIN_OR_IP

# –ò–ª–∏ –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Let's Encrypt
sudo certbot certonly --standalone -d YOUR_DOMAIN

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–Ω–æ–≤–∞
docker-compose up -d --build
```

### 3. –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –∏—Å—Ç–µ–∫

**–ü—Ä–∏–∑–Ω–∞–∫–∏:**
- –û—à–∏–±–∫–∞ "NET::ERR_CERT_DATE_INVALID"
- –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –ø—Ä–æ—Å—Ä–æ—á–µ–Ω

**–†–µ—à–µ–Ω–∏–µ:**

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è
openssl x509 -in ssl/fullchain.pem -noout -dates

# –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
./generate-self-signed-cert.sh YOUR_DOMAIN_OR_IP

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ
docker-compose restart frontend
```

### 4. –ü—Ä–æ–±–ª–µ–º—ã —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π nginx

**–ü—Ä–∏–∑–Ω–∞–∫–∏:**
- –û—à–∏–±–∫–∏ –≤ –ª–æ–≥–∞—Ö nginx
- –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –Ω–µ –º–æ–Ω—Ç–∏—Ä—É—é—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ:**

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
docker logs tomyangbar-frontend

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã —Å–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã
docker exec tomyangbar-frontend ls -la /etc/nginx/ssl/

# –î–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ñ–∞–π–ª—ã: fullchain.pem –∏ privkey.pem

# –ï—Å–ª–∏ —Ñ–∞–π–ª–æ–≤ –Ω–µ—Ç, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ docker-compose.yml
# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –µ—Å—Ç—å —Å—Ç—Ä–æ–∫–∞:
#   - ./ssl:/etc/nginx/ssl:ro
```

### 5. –°–º–µ—à–∞–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç (Mixed Content)

**–ü—Ä–∏–∑–Ω–∞–∫–∏:**
- HTTPS —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Ä–µ—Å—É—Ä—Å—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –ø–æ HTTP
- –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ –æ—à–∏–±–∫–∏ "Mixed Content"

**–†–µ—à–µ–Ω–∏–µ:**

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—Å–µ –≤–Ω–µ—à–Ω–∏–µ —Ä–µ—Å—É—Ä—Å—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç HTTPS:

```html
<!-- ‚ùå –ü–ª–æ—Ö–æ -->
<script src="http://example.com/script.js"></script>

<!-- ‚úÖ –•–æ—Ä–æ—à–æ -->
<script src="https://example.com/script.js"></script>

<!-- ‚úÖ –ò–ª–∏ –ø—Ä–æ—Ç–æ–∫–æ–ª-–æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π URL -->
<script src="//example.com/script.js"></script>
```

–í –≤–∞—à–µ–º –ø—Ä–æ–µ–∫—Ç–µ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ `index.html` - –≤—Å–µ –≤–Ω–µ—à–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å HTTPS.

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏:

```bash
./check-ssl.sh YOUR_DOMAIN_OR_IP
```

–°–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç:
- –ù–∞–ª–∏—á–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
- –í–∞–ª–∏–¥–Ω–æ—Å—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ –∏ –∫–ª—é—á–∞
- –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∫–ª—é—á–∞ –∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é nginx
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é docker-compose
- –õ–æ–≥–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

## üõ†Ô∏è –ë—ã—Å—Ç—Ä–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

–ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–º–æ–≥–∞–µ—Ç, –ø–µ—Ä–µ—Å–æ–∑–¥–∞–π—Ç–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç:

```bash
# 1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker-compose down

# 2. –£–¥–∞–ª–∏—Ç–µ —Å—Ç–∞—Ä—ã–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
rm -rf ssl/*

# 3. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
./generate-self-signed-cert.sh YOUR_DOMAIN_OR_IP

# 4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–Ω–æ–≤–∞
docker-compose up -d --build

# 5. –û—á–∏—Å—Ç–∏—Ç–µ –∫–µ—à –±—Ä–∞—É–∑–µ—Ä–∞ –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞
```

## üìã –ß–µ–∫–ª–∏—Å—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

- [ ] –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ `ssl/` –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
- [ ] –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç —Å–æ–∑–¥–∞–Ω –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –¥–æ–º–µ–Ω–∞/IP
- [ ] –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –Ω–µ –∏—Å—Ç–µ–∫
- [ ] –ö–ª—é—á —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—É
- [ ] –ü–æ—Ä—Ç 443 –æ—Ç–∫—Ä—ã—Ç –≤ firewall
- [ ] docker-compose.yml –º–æ–Ω—Ç–∏—Ä—É–µ—Ç `./ssl:/etc/nginx/ssl:ro`
- [ ] nginx-https.conf –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
- [ ] –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—É—â–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –ª–æ–≥–∞—Ö: `docker logs tomyangbar-frontend`

## üéØ –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

–ï—Å–ª–∏ —ç—Ç–æ –ø—Ä–æ–¥–∞–∫—à–µ–Ω –∏ –Ω—É–∂–µ–Ω –¥–æ–≤–µ—Ä–µ–Ω–Ω—ã–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç:

1. **–ü–æ–ª—É—á–∏—Ç–µ –¥–æ–º–µ–Ω** (–º–æ–∂–Ω–æ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –æ—Ç Freenom, No-IP –∏ —Ç.–¥.)
2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ DNS** (A-–∑–∞–ø–∏—Å—å –Ω–∞ IP —Å–µ—Ä–≤–µ—Ä–∞)
3. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Let's Encrypt** (—Å–º. [HTTPS_SETUP.md](./HTTPS_SETUP.md))

–° Let's Encrypt –±—Ä–∞—É–∑–µ—Ä—ã –±—É–¥—É—Ç –¥–æ–≤–µ—Ä—è—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—É –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!

## üí° –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
openssl x509 -in ssl/fullchain.pem -text -noout

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ä–æ–∫–∞ –¥–µ–π—Å—Ç–≤–∏—è
openssl x509 -in ssl/fullchain.pem -noout -dates

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–ª—è –∫–∞–∫–æ–≥–æ –¥–æ–º–µ–Ω–∞/IP –≤—ã–¥–∞–Ω
openssl x509 -in ssl/fullchain.pem -noout -subject

# –¢–µ—Å—Ç SSL —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
openssl s_client -connect YOUR_DOMAIN:443 -servername YOUR_DOMAIN

# –õ–æ–≥–∏ nginx
docker logs tomyangbar-frontend

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ frontend
docker-compose restart frontend
```






